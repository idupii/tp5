KindEditor.plugin("link",function(a){var c=this,v="link";c.plugin.link={edit:function(){var k=c.lang(v+"."),g='<div style="padding:20px;"><div class="ke-dialog-row"><label for="keUrl" style="width:60px;">'+k.url+'</label><input class="ke-input-text" type="text" id="keUrl" name="url" value="" style="width:260px;" /></div><div class="ke-dialog-row""><label for="keType" style="width:60px;">'+k.linkType+'</label><select id="keType" name="type"></select></div></div>',y=c.createDialog({name:v,width:450,title:c.lang(v),body:g,yesBtn:{name:c.lang("yes"),click:function(){var v=a.trim(h.val());return"http://"==v||a.invalidUrl(v)?(alert(c.lang("invalidUrl")),void h[0].focus()):void c.exec("createlink",v,b.val()).hideDialog().focus()}}}),w=y.div,h=a('input[name="url"]',w),b=a('select[name="type"]',w);h.val("http://"),b[0].options[0]=new Option(k.newWindow,"_blank"),b[0].options[1]=new Option(k.selfWindow,""),c.cmd.selection();var T=c.plugin.getSelectedLink();T&&(c.cmd.range.selectNode(T[0]),c.cmd.select(),h.val(T.attr("data-ke-src")),b.val(T.attr("target"))),h[0].focus(),h[0].select()},"delete":function(){c.exec("unlink",null)}},c.clickToolbar(v,c.plugin.link.edit)});