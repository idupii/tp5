KindEditor.plugin("quickformat",function(a){function c(a){for(var c=a.first();c&&c.first();)c=c.first();return c}var h=this,k="quickformat",v=a.toMap("blockquote,center,div,h1,h2,h3,h4,h5,h6,p");h.clickToolbar(k,function(){h.focus();for(var k,b=h.edit.doc,g=h.cmd.range,B=a(b.body).first(),y=[],T=[],E=g.createBookmark(!0);B;){k=B.next();var K=c(B);K&&"img"==K.name||(v[B.name]?(B.html(B.html().replace(/^(\s|&nbsp;|ã€€)+/gi,"")),B.css("text-indent","2em")):T.push(B),(!k||v[k.name]||v[B.name]&&!v[k.name])&&(T.length>0&&y.push(T),T=[])),B=k}a.each(y,function(i,c){var h=a('<p style="text-indent:2em;"></p>',b);c[0].before(h),a.each(c,function(i,a){h.append(a)})}),g.moveToBookmark(E),h.addBookmark()})});